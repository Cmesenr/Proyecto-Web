@model SWRCVA.Models.Cotizacion

@{
    ViewBag.Title = "Create";
}

<h2>Cotizacion</h2>

@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal" id="formCotizar">
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                   
                    @Html.Label("Producto", htmlAttributes: new { @class = "control-label col-md-4" })
                    <div class="col-md-8">
                        @Html.DropDownList("IdProducto", (IEnumerable<SelectListItem>)ViewBag.Productos, "Selecione", new { @class = "form-control", id = "DropDownProductos",required="required", title="Selecione un Producto!" })
                        @Html.ValidationMessageFor(model => model.ProductoCotizacion, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <div class="col-md-12">
                        @Html.DropDownList("IdColor", (IEnumerable<SelectListItem>)ViewBag.ColoresVidrio, "Color Vidrio..", new { @class = "form-control", id = "DropDownCVidrio", required = "required", title = "Selecione el color del Vidrio!" })
                        @Html.ValidationMessage("ColoresVidrio", "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <div class="col-md-12">
                        @Html.DropDownList("IdColor", (IEnumerable<SelectListItem>)ViewBag.ColoresAluminio, "Color Aluminio..", new { @class = "form-control", id = "DropDownCAluminio", required = "required", title = "Selecione el color del Aluminio!" })
                        @Html.ValidationMessage("ColoresAluminio", "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    @Html.Label("Instalación", htmlAttributes: new { @class = "control-label col-md-5" })
                    <div class="col-md-7">
                        @Html.DropDownList("IdValor", (IEnumerable<SelectListItem>)ViewBag.Instalacion,"..", new { @class = "form-control", id = "DropDownInstalacion", required = "required", title = "Selecione el porcentaje de Instalacion!" })
                        @Html.ValidationMessage("Instalación", "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    @Html.Label("Cantidad", htmlAttributes: new { @class = "control-label col-md-5" })
                    <div class="col-md-7">
                        @Html.EditorFor(model => model.CantProducto, new { htmlAttributes = new { @class = "form-control", id="txtCantidad", required = "required", title = "Cantidad requerida!" } })
                        @Html.ValidationMessageFor(model => model.CantProducto, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
                </div>
        <hr />
        <div class="row">
            <div class="col-md-7">

                <div class="row">
                    <div class="form-group">

                        <div class="col-md-12">
                            <table class="table" id="ListaProductos"></table>
                        </div>
                    </div>
                </div>
                        <div class="row">
                            <div class="form-group">

                                <div class="col-md-12">
                                    <img id="MostrarImagen" class="img-thumbnail" src="" alt="" />
                                    @Html.ValidationMessage("Imagen", "", new { @class = "text-danger" })

                                </div>
                            </div>
                        </div>
                        <hr />


                    </div>
                    <div class="col-md-5">

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">

                                    <div class="col-md-12">
                                        @Html.CheckBox("CkbCedazo", new { htmlAttributes = new { @class = "form-control", id = "CkbCedazo" } }) &nbsp;&nbsp;<span><strong>Con Cedaso</strong></span>
                                        @Html.ValidationMessage("Cedazo", "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        @Html.Editor("txtAncho", new { htmlAttributes = new { @class = "form-control", placeholder = "Ancho", type = "number", id = "txtAncho", required = "required", title = "Ancho Requerido!" } })
                                        @Html.ValidationMessage("Ancho", "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        @Html.Editor("txtAlto", new { htmlAttributes = new { @class = "form-control", placeholder = "Alto", type = "number", id = "txtAlto", required = "required", title = "Alto requerido!" } })
                                        @Html.ValidationMessage("Alto", "", new { @class = "text-danger" })
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-md-9">
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        <button type="button" id="btnCotizar" onclick="" class="btn btn-primary edit"><h4>Agregar</h4></button>

                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="row">

                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="text-right">
                                    @Html.Editor("txtTotal", new { htmlAttributes = new { @class = "form-control", placeholder = "Total" } })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        <hr />
        </div>
}
<div class="modal fade" id="ModalError" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Error</h4>
            </div>
            <div class="modal-body">
               <p id="TextModal"></p>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn">Ok</button>
            </div>
        </div>

    </div>
</div>
<div>
    @Html.ActionLink("Regresar a la Lista", "Index")
</div>
@section Scripts {

    @Scripts.Render("~/bundles/FuncionesCotizacion")
}
